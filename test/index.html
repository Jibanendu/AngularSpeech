<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Smart Tableau</title>
      <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div ng-app='speech'>
  <div ng-controller="speechController as spc">
    <div class="results">
      <span class="final">
        {{ spc.final }}
      </span>
      <span class="interim">
        {{ spc.interim }}
      </span>
    </div>
    <button ng-click="spc.start()">
      Start
    </button>
      <form>
        You have said :<input type="text" name="a" id="a" value={{spc.final}}>
        <button onclick="initViz();">Reports</button>
         <div id="vizContainer" style="width:800px; height:700px;"></div>
         </div>
       </form>
  </div>

</div>



  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js'></script>
<script type="text/javascript" 
      src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>
  

    <script  src="js/index.js"></script>
    <script type="text/javascript">
       function initViz() {
            var valueCheck=document.getElementById('a').value;
            var urlCreation="http://public.tableau.com/views/RegionalSampleWorkbook/Storms";
            console.log(valueCheck);
            console.log(urlCreation);
            var containerDiv = document.getElementById("vizContainer"),
                url = urlCreation,
                options = {
                    hideTabs: true,
                    onFirstInteractive: function () {
                        console.log("Run this code when the viz has finished loading.");
                    }
                };
            var viz = new tableau.Viz(containerDiv, url, options); 
            // Create a viz object and embed it in the container div.
        }
    </script>



</body>

</html>
